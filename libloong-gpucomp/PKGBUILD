# Maintainer: zint <zint@tuta.io>
# Contributor: zint <zint@tuta.io>

pkgname=libloong-gpucomp
pkgver=1.0.2
_pkgver=${pkgver}-lnd25.1~rc1.7
pkgrel=1
pkgdesc="LOONGGPU GPUCOMP runtime library"
license=()
arch=(loong64)
makedepends=(
	binutils
	libarchive
	)
options=(!debug !strip)
source=(
	"https://pkg.loongnix.cn/loongnix/25/pool/non-free/l/loonggpu-graphics-drivers/libloong-gpucomp_${_pkgver}_${arch}.deb"
)
b2sums=(
	"564bb0e8c9f65bb856595dadc9bb35aa55485bef371b20fde2bfb3772cf7ceebab2b7734df6090080f1f5f6fa4d63e89e57db188500ccb4ebb2b05b8f23766cd"
)

prepare(){
	bsdtar -xf "${srcdir}/data."*
}
package(){
	install -Dm755 "${srcdir}/usr/lib/loongarch64-linux-gnu/libloong-gpucomp.so.1" "${pkgdir}/usr/lib/libloong-gpucomp.so.1"

	install -Dm644 ${srcdir}/usr/share/doc/libloong-gpucomp/copyright ${pkgdir}/usr/share/doc/libloong-gpucomp/copyright
}
